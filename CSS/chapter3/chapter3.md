## 盒模型

`box-sizing`属性一共有两个值：

- `content-box`：默认值，标准盒模型。只包含盒子的宽高大小，不包含内边距、边框的大小。如果设置内边距和边框，会导致盒子被撑大。
- `border-box`：IE 盒模型。当设置盒子的宽高时，它的宽高包含了内边距和边框的大小。在设置内边距和边框时，盒子不会撑大，只会使内容区域变小。

### overflow 属性

当一个元素设置了高度时，容器可能会出现内容溢出的情况。使用`overflow`可以解决这个问题，它有四个值。

- `visible`：默认值，所有内容可见，即使内容溢出。
- `hidden`：溢出的内容会被裁剪，无法看见。
- `scroll`：容器会出现滚动条，可以通过滚动条查看剩下的内容。
- `auto`：只有内容溢出时容器才会出现滚动条。

#### overflow-x

使用`overflow-x`属性可以单独控制水平方向的内容溢出。

#### overflow-y

使用`overflow-y`属性可以单独控制垂直方向的内容溢出。

### max-height 和 min-height

`max-height`：设置元素的最大高度。
`min-height`：设置元素的最小高度。

### 负外边距

负外边距有一些特殊的用途，比如让元素重叠或者拉伸到比容器还要宽。负外边距的具体行为取决于设置元素的哪边，如果设置左边或者顶部的负外边距，元素就会向左或向上移动，导致和它前面的元素重叠。
如果设置右边和底部的负外边距，并不会移动元素，而是把它后面的元素拉过来。给元素设置负外边距不代表给它下面的元素顶部加上负外边距。

如果元素没有设置宽度，设置左右负外边距会导致填充容器的宽度。如果元素设置了宽度，设置左右负外边距会导致容器左右移动。

### 外边距重叠

当顶部或底部的外边距相邻时，就会重叠，产生单个外边距。这种现象叫做折叠。主要原因跟包含字体的块之间的间隔相关，折叠外边距的大小取决于哪个元素的外边距最大值（计算方式为：元素字体大小 x 元素外边距大小），最终将这个最大值渲染成两个元素之间的间距。

即使两个元素不是相邻的兄弟节点也会产生外边距折叠。即使把这个段落用一个额外`div`包住。

> 只有上下外边距才会产生外边距折叠，左右外边距不会折叠

### 容器外部折叠

元素的外边距在容器外部也会导致折叠。看下面的图和代码。

![]("./images/容器外部折叠.png")

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="./styles.css" />
    <style>
      header {
        color: #fff;
        background: #0072b0;
        border-radius: 0.5em;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>前端图图</h1>
    </header>

    <div class="test">
      <div class="test1"></div>
    </div>
  </body>
</html>
```

上图中，有一个`<header>`标签包裹着一个`<h1>`标题，浏览器默认样式给它顶部和底部都设置了`0.67em`的外边距。它的父元素是`<header>`，并没有设置外边距。这是因为它们的顶部和底部外边距相邻，所以会折叠，导致`<header>`上下方出现了`0.67em`。如果希望`<h1>`的外边距保留在`<header>`中，可以在父级元素上设置内边距`padding`来解决这个问题。

下面还有几种方法可以解决外边距折叠问题。

- 在容器中使用`overflow: auto`，防止内部元素的外边距跟容器外部的外边距折叠。
- 在两个外边距之间加上边框或者内边框，防止它们折叠。
- 容器为浮动元素、内联块、绝对定位或固定定位时，外边距不会在它外面折叠。
- 使用 FlexBox 布局时，内部的元素之间不会发生外边距折叠。网格布局也如此。
- 元素显示为`table-cell`时不具备外边距属性，所以它们不会外边距折叠。

### 容器内的元素间距

#### 猫头鹰选择器

`* + *`表示为猫头鹰选择器，开头是一个通用选择器`*`，可以选中所有元素，后面是一个相邻兄弟组合选择器`+`，最后是另一个通用选择器`*`。猫头鹰选择器功能接近相邻兄弟选择器，但是它不会选中直接跟在其他元素后面的元素。而是会选中直接跟在其他元素后面的任何元素。也就是说，它会选中页面上有着相同父级的非第二个子元素。看下面的代码。

```css
body * + * {
  margin-top: 20px;
}

/*
  相邻兄弟选择器用法
  设置跟在div后面出现的p标签的内边距，但是二者要有相同的父元素。
*/
div + p {
  padding: 20px;
}
```

上面的代码表示，只会设置`body`中任何元素后出现的任何元素上边距。使用猫头鹰选择器时需要考虑到各种因素，虽然省去了许多需要设置外边距的地方，但是有些地方不想加外边距就需要覆盖了。

# TypeScript 类型进阶

## 子类型和超类型

### 子类型和超类型

- **子类型**：假设有两个类型`a`和`b`，`b`是`a`的子类型，在用到`a`的地方都可以用`b`。

- **超类型**：假设有两个类型`a`和`b`，`b`是`a`的超类型，在用到`b`的地方都可以用`a`。

## 型变

- `A` <: `B`指的是：`A`类型是 `B` 类型的子类型，或者为同种类型
- `A` >: `B`指的是：`A`类型是 `B` 类型的超类型，或者为同种类型

型变的四种方式：

- 不变：只能是某个类型。
- 协变：可以是某个类型的子类型。
- 逆变：可以是某个类型的超类型。
- 双变：可以是某个类型的子类型或者超类型。

### const

`const`类型用作禁止类型拓宽。

```ts
let person = {
  name: "图图",
  age: 23,
} as const;

person.name = "小美";
// Cannot assign to 'name' because it is a read-only property
```

`const`不仅可以阻止类型拓宽，还会把成员设置为`readonly`，无论数据结构的嵌套层级有多深。如果想让类型推导窄一点的话，可以使用`as const`。

### 多余属性检查

多余属性检查的过程：试着把一个新对象字面量类型`T`赋值给另一个类型`U`时，如果`T`有不在`U`中的属性，`TS`会抛出错误。

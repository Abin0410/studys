<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title></title>
</head>
<body>
  <script>
    /**
      ##模板字符串
      模板字符串是增强版的字符串，用反引号（`）标识。它可以当作普通字符串使用。也可以用来定义多行字符串，
      或者在字符串中嵌入变量。
      ```js
      console.log(`hello world`); // hello world
      ```
      如果是多行字符串可以像下面这样使用。
      ```js
      console.log(`hello
      world
      图图
      `);
      // hello
      //     world
      //     图图
      ```
      字符串中嵌入变量的用法。
      ```js
      let name = "tutu", time = 'today';
      console.log(`Hello ${name}, how are you ${time}`); // Hello tutu, how are you today
      ```
      上面代码中的字符串都使用了反引号。如果在模板字符串中需要使用反引号，则在其前面要用反斜杠转义。
      ```js
      let greeting = `\`Well\` World！`;
      console.log(greeting); // `Well` World！
      ```
      使用模板字符串表示多行字符串，所有的空格和缩进都会被保留在输出中。

      ```js
      let string = `
      hello world
      `
      ```
      上面的代码中，所有模板字符串的空格和换行都是被保留的，比如hello前面有一个换行。如果不想要这个换行，
      可以使用trim方法消除。
      ```js
      let string = `
      hello world
      `
      console.log(string.trim()); // hello world
      ```
      在模板字符串中写入变量，需要将变量名写在${}中。
      ```js
      let name = 'tutu';
      console.log(`hello ${name}`); // hello tutu
      ```
      大括号内可以放入任意的JavaScript表达式，可以进行运算，以及引用对象属性。
      ```js
      let x = 1;
      let y = 2;
      console.log(`${x} + ${y} = ${x + y}`); // 1 + 2 = 3
      console.log(`${x} + ${y * 2} = ${x + y * 2}`); // 1 + 4 = 5

      let obj = {x: 1, y: 2};
      console.log(`${obj.x * obj.y}`); // 2
      ```
      模板字符串还可以调用函数。
      ```js
      function fn() {
        return "hello world";
      }

      console.log(`foo ${fn()} bar`);
      ```
      如果大括号中的值不是字符串，将按照一般的规则转为字符串。比如，大括号中是一个对象，将
      默认调用对象的toString方法。

      如果模板字符串中的变量没有声明，将会报错。
      ```js
      // 变量名str没有声明
      console.log(`hello ${str}`); // str is not defined
      ```

      由于模板字符串的大括号内部就是要执行的JavaScript代码，因此如果大括号内部是一个字符串，将会原样输出。
      ```js
      console.log(`hello ${'World'}`); // hello World
      ```
      模板字符串甚至还能嵌套。
      ```js
      const tmpl = addrs => `
        <table>
          ${
            addrs.map(addr => `
              <tr><td>${addr.first}</td></tr>
              <tr><td>${addr.last}</td></tr>
            `).join('')
          }
        </table>
      `;

      const data = [
        { first: '<Jane>', last: 'Bond' },
        { first: 'Lars', last: '<Croft>' },
      ];

      console.log(tmpl(data));

      // <table>
          
      //     <tr><td><Jane></td></tr>
      //     <tr><td>Bond</td></tr>
        
      //     <tr><td>Lars</td></tr>
      //     <tr><td><Croft></td></tr>
        
      // </table>
      ```
      如果需要引用模板字符串本身，可以像下面这样写。
      ```js
      // 写法一
      let str = 'return' + '`hello ${name}!`';
      let func = new Function('name', str);

      console.log(func('Jack')); // hello Jack!

      // 写法二
      let str = '(name) => `hello ${name}!`';
      let func = eval.call(null, str);
      console.log(func('tutu')); // hello tutu!
      ```
    **/
    
  </script>
</body>
</html>
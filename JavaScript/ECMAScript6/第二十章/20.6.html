<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title></title>
</head>

<body>
  <script>
    /*
      ## Mixin模式的实现

      Mixin指的是多个对象合成一个新对象，新对象具有各个组成成员的接口。最简单实现如下。
      ```js
      const a = {
        a: 'a'
      };

      const b = {
        b: 'b'
      }

      const c = { ...a, ...b };
      console.log(c);
      // {a: "a", b: "b"}
      ```
      上面代码中，`c`对象是`a`和`b`对象的合成，具有两者的接口。

      下面是一个更加完备的实现，将多累的接口"混入"（mixin）另一个类。
      ```js
      function mixin(...mixins) {
        class Mix {
          constructor() {
            for (let mixin of mixins) {
              copyProperties(this, new mixin());
            }
          }
        }

        for (let mixin of mixins) {
          copyProperties(Mix, mixin);
          copyProperties(Mix.prototype, mixin.prototype);
        }

        return Mix;
      }

      function copyProperties(target, source) {
        for (let key of Reflect.ownKeys(source)) {
          if (key !== 'constructor' && key !== 'prototype' && key !== 'name') {
            let desc = Object.getOwnPropertyDescriptor(source, key);
            Object.defineProperty(target, key, desc);
          }
        }
      }
      ```
      上面代码的`mix`函数，可以将多个对象合成为一个类。使用的时候，只要继承这个类即可。
      ```js
      class DistributedEdit extends mix(Logable, Serializable) {
        // ...
      }
      ```
    */

  </script>
</body>

</html>
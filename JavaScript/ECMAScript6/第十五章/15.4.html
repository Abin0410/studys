<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title></title>
</head>
<body>
  <script>
    /*
      ##字符串的Iterator接口

      字符串是一个类数组的对象，同时具备Iterator接口。
      ```js
      let someString = 'hi';

      console.log(typeof someString[Symbol.iterator]);
      // function

      let iterator = someString[Symbol.iterator]();

      console.log(iterator.next()); // {value: "h", done: false}
      console.log(iterator.next()); // {value: "i", done: false}
      console.log(iterator.next()); // {value: undefined, done: true}
      ```
      上面代码中，调用`Symbol.iterator`方法返回一个遍历器对象，在这个遍历器上可以调用`next()`方法，实现字符串遍历。
      
      可以覆盖原生的`Symbol.iterator`方法，可以达到修改遍历器行为的目的。
      ```js
      var str = new String('hi');
      console.log([...str]);
      // ["h", "i"]

      str[Symbol.iterator] = function() {
        return {
          next() {
            console.log(this);
            if (this._first) {
              this._first = false;

              return { value: "bye", done: false};
            } else {
              return { done: true };
            }
          },
          _first: true
        };
      };

      console.log([...str]); // ["bye"]
      console.log(str); // {"hi", Symbol(Symbol.iterator): ƒ}
      ```
      上面代码中，字符串str的`Symbol.iterator`方法被修改了，所以扩展运算符（`...`）返回的值变成了`bye`，而字符串本身还是`hi`。
    */
    
  </script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title></title>
</head>
<body>
  <select name="location" id="selLocation">
    <option value="Sunnyvale, CA">Sunnyvale</option>
    <option value="Los Angeles, CA">Los Angeles</option>
    <option value="Mountan View, CA">Mountan View</option>
    <option value="">China</option>
    <option>Australia</option>
  </select>

  <select name="location" id="selLocation2">
  </select>
  <script>
    /**
      ## 选择框脚本
      选择框是通过`<select>`和`<option>`元素创建的。为了方便与这个控件交互，除了所有表单
      字段共有的属性和方法外，还提供了下列属性和方法。
        * add（newOption，relOption）：向控件中插入新`<option>`元素，其位置在相关项（relOption）之前。
        * multiple：布尔值，表示是否允许多项选择；
        * options：控件中所有`<option>`元素的HTMLCollection。
        * remove（index）：移除给定位置的选项。
        * selectedIndex：基于0的选中项的索引，如果没有选中项，则值为-1。对于支持多选的控件，
          只保存选中项中第一项的索引。
        * size：选择框中可见的行数；
        选择框的type属性不是 "select-one"，就是 "select-multiple"，这取决于HTML代码中有
        没有multiple特性。选择框的value属性由当前选中项决定，相应规则如下：
        * 如果没有选中的项，则选择框的value属性保存空字符串。
        * 如果有一个选中项，而且该项的value特性已经在HTML中指定，则选择框的value属性等于选
          中项的value特性。即使value特性的值是空字符串，也同样遵循此条规则。
        * 如果有一个选中项，但该项的value特性在HTML中未指定，则选择框的value属性等于该项的文本。
        * 如果有多个选中项，则选择框的vlaue属性将依据前两条规则取得第一个选中项的值。
      以下面的选择框为例：
      ```html
      <select name="location" id="selLocation">
        <option value="Sunnyvale, CA">Sunnyvale</option>
        <option value="Los Angeles, CA">Los Angeles</option>
        <option value="Mountan View, CA">Mountan View</option>
        <option value="">China</option>
        <option>Australia</option>
      </select>
      ```
      :::warning 警告
      选择框的change事件与其他表单字段的change事件触发的条件不一样。其他表单字段的change事件是
      在值被修改且焦点离开当前字段时触发，而选择框的change事件只要选中了选项就会触发。
      :::
      ### 选择选项
      对于只允许选择一项的选择框，访问选中项的最简单方式，就是使用选择框的selectedIndex属性，如
      下面的例子所示：
      ```js
      var selectbox = document.getElementById("selLocation"),
        selectedOption = selectbox.options[selectbox.selectedIndex],
        selectIndex = selectbox.selectedIndex;
      console.log(selectedOption);
      console.log("值为 ", selectedOption.value);
      console.log("索引为 ", selectIndex);
      ```
      ### 添加选项
      可以使用JavaScript动态创建选项，并将它们添加到选择框中。添加选项的方式有很多，第一种方式
      就是使用如下所示的DOM方法。
      ```js
      var selectbox = document.getElementById("selLocation");
      var newOption = document.createElement("option");
      newOption.appendChild(document.createTextNode("Option text"));
      newOption.setAttribute("value", "Option value");

      selectbox.appendChild(newOption);
      ```
      第二种方式是使用Option构造函数来创建新选项。Option构造函数接受两个参数：文本（text）和
      值（value）；第二个参数可选。
      ```js
      var selectbox = document.getElementById("selLocation");
      var newOption = new Option("Option text", "Option value");

      selectbox.appendChild(newOption);
      ```
      第三种添加新选项的方式是使用选择框的 **add()** 方法。DOM规定这个方法接受两个参数：要添加的新
      选项和将为于新选项之后的选项。如果想在列表的最后添加一项，应该将第二个参数设置为null。
      如果编写跨浏览器的代码，将第二个参数传入undefined。来看个例子：
      ```js
      var selectbox = document.getElementById("selLocation");
      var newOption = new Option("Option text", "Option value");

      selectbox.add(newOption, undefined); // 最佳方案
      ```
      ### 移除选项
      与添加选项类似，移除选项的方式有很多种。首先，可以使用DOM的removeChild()方法，为其传入
      要移除的选项，如下面的例子：
      ```js
      var selectbox = document.getElementById("selLocation");
      selectbox.removeChild(selectbox.options[0]); // 移除第一个选项
      ```
      其次，可以使用选择框的remove()方法。这个方法接受一个参数，既要移除选项的索引。
      ```js
      var selectbox = document.getElementById("selLocation");
      selectbox.remove(0);
      ```
      最后一中方式，就是讲相应选项设置为null。例如：
      ```js
      var selectbox = document.getElementById("selLocation");
      selectbox.options[0] = null;
      ```
      要清除选择框中所有的项，需要迭代所有选项并逐个移除它们，下面的例子所示：
      ```js
      var selectbox = document.getElementById("selLocation");
      function clearSelectbox(selectbox) {
        for (var i = 0, len = selectbox.options.length; i < len; i++) {
          selectbox.remove(0);
        }
      }
      clearSelectbox(selectbox);
      ```
      这个函数每次只移除选择框的第一项。由于移除第一选项后，所有后续选项都会自动向上
      移动一个位置，因此重复移除第一个选项就可以移除所有选项了。

      ### 移动和重排选项
      使用appendChild()方法传入一个文档中已有的元素，那么就会先从该元素的父节点中移除它，
      再把它添加到指定的位置。来看个例子：
      ```js
      var selectbox1 = document.getElementById("selLocation1");
      var selectbox2 = document.getElementById("selLocation2");

      selectbox2.appendChild(selectbox1.options[0]);
      ```
      重排选项次序的过程也十分类似。最好的方式仍然是使用DOM方法。最适合的DOM方法就是insertBefore()；
      看下面的例子：
      ```js
      var selectbox = document.getElementById("selLocation");
      var optionToMove = selectbox.options[1];
      selectbox.insertBefore(optionToMove, selectbox.options[optionToMove.index - 1]);
      ```
    **/
    var selectbox = document.getElementById("selLocation");
    var optionToMove = selectbox.options[1];
    selectbox.insertBefore(optionToMove, selectbox.options[optionToMove.index - 1]);
  </script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>数组迭代方法</title>
  <script>
    // ---------------迭代方法--------------

    // ECMAscript为数组定义了5个迭代方法。每个方法都接收两个参数：要在每一项上运行
    // 和(可选的)运行该函数的作用域对象----影响this的值。传入这些方法中的函数会接收
    // 三个参数:数组项的值、该项在数组中的位置和数组对象本身。根据使用的方法不同，这
    // 个函数执行后的返回值可能会也可能不会影响方法的返回值。下面列出5个迭代方法的作用
      // 1. every():对数组中的每一项运行给定函数，如果该函数对每一项都返回true，则返回true。
      // 2. filter():对数组的每一项运行给定函数，返回该函数会返回true的项组成的数组。
      // 3. forEach():对数组的每一项运行给定函数，这个方法没有返回值。
      // 4. map():对数组的每一项运行给定函数，返回每次函数调用的结果组成的数组。
      // 5. some():对数组中的每一项运行给定函数，如果该函数对任一项返回true，则返回true。
    // 以上方法都不会修改数组中的包含的值。
    // 在这些方法中，最相似的是every()和some()，它们都用于查询数组中的项是否满足某个条件。
    // 对every()来说，传入的函数必须对每一项都返回true，这个方法才返回true，否则，它就返回
    // false。而some方法则只是传入的函数对数组中的某一项返回true，就会返回true，请看一下例子。

    // var numbers = [1,2,3,4,5,4,3,2,1];
    // var everyResult = numbers.every(function (item, index ,array) {
    //   return (item > 2);
    // })
    // console.log(everyResult,"everyResult"); //false

    // var someResult = numbers.some(function (item, index, array) {
    //   return (item >2);
    // })
    // console.log(someResult); //true
    // 以上代码调用了every()和some(),传入的函数只要给定项大于2就会返回true。对于every()，
    // 它返回的是false，因为只有部分数组项符合条件。对于some()，结果就是true，因为至少有
    // 一项是大于2的。

    // 下面再看一看filter()函数，它利用指定的函数确定是否在返回的数组中包含某一项。例如，要
    // 返回一个所有数值都大于2的数组，可以使用以下代码。
    // var numbers = [1,2,3,4,5,6,7];
    // var filterResult = numbers.filter(function (item, index, array) {
    //   return (item > 2)
    // })
    // console.log(filterResult); // [3, 4, 5, 6, 7]
    // 这里，通过调用filter()方法创建并返回了包含3,4,5,6,7的数组，因为传入的函数对它们每一项
    // 都返回true。这个方法对查询符合某些条件的所有数组项非常有用

    // map()也返回一个数组，而这个数组的每一项都是在原始数组中的对应项上运行传入函数的结果。
    // 例如，可以给数组中的每一项乘以2，然后返回这些乘积组成的数组，如下所示。
    // var numbers = [1,2,3,4,5,4,3,2,1];
    // var mapResult = numbers.map(function (item, index ,array) {
    //   return item * 2;
    // })
    // console.log(mapResult) // [2, 4, 6, 8, 10, 8, 6, 4, 2]
    
    // 最后一个方法是forEach()，实际上和for循环迭代数组是一模一样的。

    // 归并方法
    // 两个归并数组的方法：reduce()和reduceRight()。两个方法都会迭代数组的所有项，然后构建
    // 一个最终返回的值。其中，reduce()方法从数组的第一项开始，逐个遍历到最后。而reduceRight()
    // 则从数组的最后一项开始，向前遍历到第一项。
    // 这两个方法都接受两个参数：一个在每一项上调用和(可选的)作为归并基础的初始值。传给reduce()
    // 和reduceRight()的函数接收4个参数：前一个值、当前值、项的索引和数组对象。这个函数返回的任
    // 何值都会作为第一个参数自动传给下一项。第一次迭代发生在数组的第二项上，因此第一个参数是数组
    // 的第一项，第二个参数就是数组的第二项。

    // 使用reduce()方法可以执行求数组中所有值之和的操作，比如
    // var values = [1,2,3,4,5];
    // var sum = values.reduce(function (prev, cur, index ,array){
    //   return prev + cur;
    // })
    // console.log(sum); // 15
    // 第一次执行回调函数，prev是1，cur是2。第二次，prev是3(1加2的结果)，cur是3(数组的第三项)。
    // 这个过程会持续到把数组中的每一项都访问一遍，最后返回结果。

    // reduceRight()的作用类似，只不过方向相反而已。请看下面这个例子。
    // var values = [1,2,3,4,5];
    // var sum = values.reduceRight(function (prev, cur, index, array) {
    //   return prev + cur
    // })
    // console.log(sum) //15
  </script>
</head>

<body>
</body>

</html>
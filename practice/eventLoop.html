<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title></title>
</head>

<body>
  <script>
    /* console.log('script start');

    setTimeout(() => {
      console.log("1");
    }, 0);

    Promise.resolve()
      .then(() => {
        console.log("promise1");
      })
      .then(() => {
        console.log("promise2");
      });

    async function foo() {
      await bar()
      console.log("asyns end");
    }

    foo();

    function bar() {
      console.log("async2 end");
    }

    async function errorFunc() {
      try {
        await Promise.reject("error!!!");
      } catch(e) {
        console.log(e);
      }

      console.log("async1");

      return Promise.resolve("async1 success");
    }

    errorFunc().then(res => console.log(res));

    console.log('script end'); */

    new Promise((resolve, reject) => {
      console.log("1");
      resolve()
    })
      .then(() => {
        console.log("2");

        new Promise((resolve, reject) => {
          console.log("3");
          setTimeout(() => {
            reject();
          }, 3 * 1000);
          resolve();
        })
          .then(() => {
            console.log("4");
            new Promise((resolve, reject) => {
              console.log("5");
              resolve();
            })
              .then(() => {
                console.log("7");
              })
              .then(() => {
                console.log("9");
              })
          })
          .then(() => {
            console.log("8");
          })
      })
      .then(() => {
        console.log("6");
      })
  </script>
</body>

</html>